{% extends 'account/base.html' %}
{% block title %}{{ product.name }} | Product Details{% endblock title %}
{% block maincontent %}

<div class="container mt-5 mb-5">
  <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
    <div class="row g-0">

      <!-- Product Image / Icon Section -->
      <div class="col-md-4 text-center p-4 bg-light">

        {% if product.image %}
          <img src="{{ product.image.url }}"
               alt="{{ product.name }}"
               class="img-fluid rounded-3 border border-3 border-white shadow-sm"
               style="width:230px; height:230px; object-fit:cover;">
        {% else %}
          <!-- Placeholder Icon Box -->
          <div class="d-flex align-items-center justify-content-center rounded-3 bg-primary text-white shadow-sm"
               style="width:230px; height:230px; font-size:4rem;">
            <i class="bi bi-box-seam"></i>
          </div>
        {% endif %}

        <h3 class="mt-3 mb-0">{{ product.name }}</h3>
        <p class="text-muted mb-1">Product ID: {{ product.id }}</p>

        <p class="fw-bold text-success mb-1" style="font-size:1.2rem;">
          ₹ {{ product.price }}
        </p>

      </div>

      <!-- Product Details Section -->
      <div class="col-md-8 p-4">
        <h5 class="border-bottom pb-2 mb-3 text-primary">Product Information</h5>

        <table class="table table-borderless align-middle">
          <tbody>
            <tr>
              <th style="width:35%">Name:</th>
              <td>{{ product.name }}</td>
            </tr>

            <tr>
              <th>Description:</th>
              <td>{{ product.description }}</td>
            </tr>

            <tr>
              <th>Price:</th>
              <td class="fw-bold text-success">₹ {{ product.price }}</td>
            </tr>
          </tbody>
        </table>

        <!-- Action Buttons -->
        <div class="mt-4 d-flex flex-wrap gap-2">
          {% if perms.product.change_product %}
            <a href="{% url 'edit_product' product.id %}" class="btn btn-warning">
              <i class="bi bi-pencil-square me-2"></i>Edit
            </a>
          {% endif %}

          {% if perms.product.delete_product %}
            <form method="post" action="{% url 'delete_product' product.id %}"
                  onsubmit="return confirm('Are you sure you want to delete this product?');">
              {% csrf_token %}
              <button type="submit" class="btn btn-danger">
                <i class="bi bi-trash3 me-2"></i>Delete
              </button>
            </form>
          {% endif %}

          <a href="{% url 'view_product_list' %}" class="btn btn-secondary ms-auto">
            <i class="bi bi-arrow-left me-2"></i>Back to Products
          </a>

        </div>

      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

{% endblock maincontent %}
